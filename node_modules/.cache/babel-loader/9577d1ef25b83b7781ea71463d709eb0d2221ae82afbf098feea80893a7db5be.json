{"ast":null,"code":"import _slicedToArray from\"/Users/soohoon/Desktop/kakao/20230207-jsh/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect}from\"react\";import{useSelector}from'react-redux';import mole from\"../core/Mole\";import ButtonGroup from\"../comp/module/ButtonGroup\";import ButtonReset from\"../comp/module/ButtonReset\";import useMovePage from\"../hooks/useMovePage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Rank=function Rank(){var _useMovePage=useMovePage(),_useMovePage2=_slicedToArray(_useMovePage,1),setPage=_useMovePage2[0];var _useSelector=useSelector(function(state){return{rankList:state.data.rankList,showResult:state.data.showResult};}),rankList=_useSelector.rankList,showResult=_useSelector.showResult;useEffect(function(){// 앞으로가기 진행하는 경우 고려.\nmole.setState('isStart',false);mole.setState('timer','end');// 결과창 \nif(showResult){mole.showModal('ModalResult',{confirm:'확인'});mole.setState('showResult',false);}},[]);var RankTable=function RankTable(){var sortRank=mole.utils.sortArray(rankList,10);return/*#__PURE__*/_jsx(\"table\",{className:\"table clearfix\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:mole.list.rankTableHeadList.map(function(label){return/*#__PURE__*/_jsx(\"th\",{children:label});})}),sortRank.map(function(row,rowIdx){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:rowIdx+1}),/*#__PURE__*/_jsx(\"td\",{children:row.score}),/*#__PURE__*/_jsx(\"td\",{children:row.sysdate})]},rowIdx+'-'+row.sysdate);})]})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-test\",style:{margin:'5px'},onClick:function onClick(){return mole.showModal('ModalRankTest',{confirm:'닫기',callbackFunc:function callbackFunc(){mole.hideModal();}});},children:\"Test\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(ButtonReset,{}),/*#__PURE__*/_jsx(RankTable,{}),/*#__PURE__*/_jsx(ButtonGroup,{callback:function callback(info){if(info.nextCode==='start'){mole.setState('timer','start');mole.module.setScore();setPage('/game');return;}if(info.nextCode==='stop')return setPage('/');}})]})]});};export default Rank;","map":{"version":3,"names":["useEffect","useSelector","mole","ButtonGroup","ButtonReset","useMovePage","Rank","setPage","state","rankList","data","showResult","setState","showModal","confirm","RankTable","sortRank","utils","sortArray","list","rankTableHeadList","map","label","row","rowIdx","score","sysdate","margin","callbackFunc","hideModal","info","nextCode","module","setScore"],"sources":["/Users/soohoon/Desktop/kakao/20230207-jsh/src/page/Rank.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useSelector } from 'react-redux';\nimport { StoreStateType, listInfoType } from '../type/Type';\nimport mole from \"../core/Mole\";\nimport ButtonGroup from \"../comp/module/ButtonGroup\";\nimport ButtonReset from \"../comp/module/ButtonReset\";\nimport useMovePage from \"../hooks/useMovePage\";\n\nconst Rank = () => {\n    const [ setPage ] = useMovePage();\n    const { rankList, showResult } = useSelector((state: StoreStateType) => {\n        return {\n            rankList: state.data.rankList,\n            showResult: state.data.showResult\n        }\n    });\n\n    useEffect(() => {\n        // 앞으로가기 진행하는 경우 고려.\n        mole.setState('isStart', false);\n        mole.setState('timer', 'end');\n\n        // 결과창 \n        if (showResult) {\n            mole.showModal('ModalResult', { confirm: '확인' });\n            mole.setState('showResult', false);\n        } \n    }, [])\n\n    const RankTable = () => {\n        const sortRank = mole.utils.sortArray(rankList, 10);\n\n        return (\n            <table className=\"table clearfix\" >\n                <tbody>\n                    <tr>\n                        {mole.list.rankTableHeadList.map((label: string) => {\n                            return <th>{label}</th>\n                        })}\n                    </tr>\n                    {sortRank.map((row: any, rowIdx: number) => {\n                        return (\n                            <tr key={rowIdx + '-' + row.sysdate}>\n                                <td>{rowIdx + 1}</td>\n                                <td>{row.score}</td>\n                                <td>{row.sysdate}</td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n        )\n    }\n\n    return (\n        <>\n        <button className='btn-test' style={{margin: '5px'}}onClick={() => (\n            mole.showModal('ModalRankTest', {\n                confirm: '닫기',\n                callbackFunc: () => { mole.hideModal(); }\n            }\n        ))}>Test</button>\n        <div className=\"main\">\n            <ButtonReset/>\n            <RankTable/>\n            <ButtonGroup callback={(info: listInfoType) => {\n                if (info.nextCode === 'start') {\n                    mole.setState('timer', 'start');\n                    mole.module.setScore();\n                    setPage('/game');\n                    return;\n                }\n                if (info.nextCode === 'stop') return setPage('/');\n            }}/>\n        </div>\n        </>\n    )\n}\n\nexport default Rank;"],"mappings":"+HAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,aAAa,CAEzC,MAAOC,KAAI,KAAM,cAAc,CAC/B,MAAOC,YAAW,KAAM,4BAA4B,CACpD,MAAOC,YAAW,KAAM,4BAA4B,CACpD,MAAOC,YAAW,KAAM,sBAAsB,CAAC,6IAE/C,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACf,iBAAoBD,WAAW,EAAE,8CAAzBE,OAAO,kBACf,iBAAiCN,WAAW,CAAC,SAACO,KAAqB,CAAK,CACpE,MAAO,CACHC,QAAQ,CAAED,KAAK,CAACE,IAAI,CAACD,QAAQ,CAC7BE,UAAU,CAAEH,KAAK,CAACE,IAAI,CAACC,UAC3B,CAAC,CACL,CAAC,CAAC,CALMF,QAAQ,cAARA,QAAQ,CAAEE,UAAU,cAAVA,UAAU,CAO5BX,SAAS,CAAC,UAAM,CACZ;AACAE,IAAI,CAACU,QAAQ,CAAC,SAAS,CAAE,KAAK,CAAC,CAC/BV,IAAI,CAACU,QAAQ,CAAC,OAAO,CAAE,KAAK,CAAC,CAE7B;AACA,GAAID,UAAU,CAAE,CACZT,IAAI,CAACW,SAAS,CAAC,aAAa,CAAE,CAAEC,OAAO,CAAE,IAAK,CAAC,CAAC,CAChDZ,IAAI,CAACU,QAAQ,CAAC,YAAY,CAAE,KAAK,CAAC,CACtC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMG,UAAS,CAAG,QAAZA,UAAS,EAAS,CACpB,GAAMC,SAAQ,CAAGd,IAAI,CAACe,KAAK,CAACC,SAAS,CAACT,QAAQ,CAAE,EAAE,CAAC,CAEnD,mBACI,cAAO,SAAS,CAAC,gBAAgB,uBAC7B,sCACI,oBACKP,IAAI,CAACiB,IAAI,CAACC,iBAAiB,CAACC,GAAG,CAAC,SAACC,KAAa,CAAK,CAChD,mBAAO,oBAAKA,KAAK,EAAM,CAC3B,CAAC,CAAC,EACD,CACJN,QAAQ,CAACK,GAAG,CAAC,SAACE,GAAQ,CAAEC,MAAc,CAAK,CACxC,mBACI,mCACI,oBAAKA,MAAM,CAAG,CAAC,EAAM,cACrB,oBAAKD,GAAG,CAACE,KAAK,EAAM,cACpB,oBAAKF,GAAG,CAACG,OAAO,EAAM,GAHjBF,MAAM,CAAG,GAAG,CAAGD,GAAG,CAACG,OAAO,CAI9B,CAEb,CAAC,CAAC,GACE,EACJ,CAEhB,CAAC,CAED,mBACI,wCACA,eAAQ,SAAS,CAAC,UAAU,CAAC,KAAK,CAAE,CAACC,MAAM,CAAE,KAAK,CAAE,QAAO,CAAE,yBACzDzB,KAAI,CAACW,SAAS,CAAC,eAAe,CAAE,CAC5BC,OAAO,CAAE,IAAI,CACbc,YAAY,CAAE,uBAAM,CAAE1B,IAAI,CAAC2B,SAAS,EAAE,CAAE,CAC5C,CAAC,CACJ,EAAE,UAAC,MAAI,EAAS,cACjB,aAAK,SAAS,CAAC,MAAM,wBACjB,KAAC,WAAW,IAAE,cACd,KAAC,SAAS,IAAE,cACZ,KAAC,WAAW,EAAC,QAAQ,CAAE,kBAACC,IAAkB,CAAK,CAC3C,GAAIA,IAAI,CAACC,QAAQ,GAAK,OAAO,CAAE,CAC3B7B,IAAI,CAACU,QAAQ,CAAC,OAAO,CAAE,OAAO,CAAC,CAC/BV,IAAI,CAAC8B,MAAM,CAACC,QAAQ,EAAE,CACtB1B,OAAO,CAAC,OAAO,CAAC,CAChB,OACJ,CACA,GAAIuB,IAAI,CAACC,QAAQ,GAAK,MAAM,CAAE,MAAOxB,QAAO,CAAC,GAAG,CAAC,CACrD,CAAE,EAAE,GACF,GACH,CAEX,CAAC,CAED,cAAeD,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}