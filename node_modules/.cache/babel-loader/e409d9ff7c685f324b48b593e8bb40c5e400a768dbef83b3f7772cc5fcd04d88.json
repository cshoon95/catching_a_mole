{"ast":null,"code":"import{useEffect,useRef}from\"react\";import{useSelector}from'react-redux';import mole from\"../core/Mole\";import ModalCountDown from\"../modal/ModalCountDown\";import ModalResult from\"../modal/ModalResult\";import ModalReadyTest from\"../modal/ModalReadyTest\";import ModalGameTest from\"../modal/ModalGameTest\";import ModalRankTest from\"../modal/ModalRankTest\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Modal=function Modal(){var refBtn=useRef(null);var _useSelector=useSelector(function(state){return{modalName:state.view.modalName,modalOption:state.view.modalOption,isShowModal:state.view.isShowModal};}),modalName=_useSelector.modalName,modalOption=_useSelector.modalOption,isShowModal=_useSelector.isShowModal;var loadPopup=function loadPopup(){switch(modalName){case'ModalCountDown':return/*#__PURE__*/_jsx(ModalCountDown,{});case'ModalResult':return/*#__PURE__*/_jsx(ModalResult,{});case'ModalReadyTest':return/*#__PURE__*/_jsx(ModalReadyTest,{});case'ModalGameTest':return/*#__PURE__*/_jsx(ModalGameTest,{});case'ModalRankTest':return/*#__PURE__*/_jsx(ModalRankTest,{});default:return;}};useEffect(function(){var focus=setTimeout(function(){var _refBtn$current;(_refBtn$current=refBtn.current)===null||_refBtn$current===void 0?void 0:_refBtn$current.focus();},1000);return function(){clearInterval(focus);};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:isShowModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:modalName==='ModalCountDown'?\"modal-countdown-body\":\"modal-body\",children:[loadPopup(),(modalOption===null||modalOption===void 0?void 0:modalOption.confirm)&&/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){modalOption.callbackFunc&&modalOption.callbackFunc();mole.hideModal();},ref:refBtn,children:modalOption===null||modalOption===void 0?void 0:modalOption.confirm})]})})});};export default Modal;","map":{"version":3,"names":["useEffect","useRef","useSelector","mole","ModalCountDown","ModalResult","ModalReadyTest","ModalGameTest","ModalRankTest","Modal","refBtn","state","modalName","view","modalOption","isShowModal","loadPopup","focus","setTimeout","current","clearInterval","confirm","callbackFunc","hideModal"],"sources":["/Users/soohoon/Desktop/kakao/20230207-jsh/src/manager/Modal.tsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport { useSelector } from 'react-redux';\nimport { StoreStateType } from '../type/Type';\nimport mole from \"../core/Mole\";\nimport ModalCountDown from \"../modal/ModalCountDown\";\nimport ModalResult from \"../modal/ModalResult\";\nimport ModalReadyTest from \"../modal/ModalReadyTest\";\nimport ModalGameTest from \"../modal/ModalGameTest\";\nimport ModalRankTest from \"../modal/ModalRankTest\";\n\nconst Modal = () => {\n    const refBtn = useRef<HTMLButtonElement>(null);\n    const { modalName, modalOption, isShowModal } = useSelector((state: StoreStateType) => {\n        return {\n            modalName: state.view.modalName,\n            modalOption: state.view.modalOption,\n            isShowModal: state.view.isShowModal,\n        };\n    });\n\n    \n    const loadPopup = () => { \n        switch (modalName) {\n            case 'ModalCountDown':  return <ModalCountDown/>;\n            case 'ModalResult':     return <ModalResult/>;\n            case 'ModalReadyTest':  return <ModalReadyTest/>;\n            case 'ModalGameTest':   return <ModalGameTest/>;\n            case 'ModalRankTest':   return <ModalRankTest/>;\n            default: return;\n        }\n    }\n\n    useEffect(() => {\n        const focus = setTimeout(() => {\n            refBtn.current?.focus();\n        }, 1000);\n\n        return () => { clearInterval(focus) }\n    }, []);\n\n    return (\n        <>\n        { isShowModal && \n            <div className=\"modal\">\n                <div className={modalName === 'ModalCountDown' ? \"modal-countdown-body\" : \"modal-body\"}>\n                    {loadPopup()}\n                    {modalOption?.confirm && \n                        <button className=\"button\" \n                                onClick={() => {\n                                    modalOption.callbackFunc && modalOption.callbackFunc();\n                                    mole.hideModal()}\n                                }\n                                ref={refBtn}\n                        >{modalOption?.confirm}</button>\n                    }\n                </div>                \n            </div>\n        }\n        </>\n    );\n}\n\nexport default Modal;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACzC,OAASC,WAAW,KAAQ,aAAa,CAEzC,MAAOC,KAAI,KAAM,cAAc,CAC/B,MAAOC,eAAc,KAAM,yBAAyB,CACpD,MAAOC,YAAW,KAAM,sBAAsB,CAC9C,MAAOC,eAAc,KAAM,yBAAyB,CACpD,MAAOC,cAAa,KAAM,wBAAwB,CAClD,MAAOC,cAAa,KAAM,wBAAwB,CAAC,6IAEnD,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAChB,GAAMC,OAAM,CAAGT,MAAM,CAAoB,IAAI,CAAC,CAC9C,iBAAgDC,WAAW,CAAC,SAACS,KAAqB,CAAK,CACnF,MAAO,CACHC,SAAS,CAAED,KAAK,CAACE,IAAI,CAACD,SAAS,CAC/BE,WAAW,CAAEH,KAAK,CAACE,IAAI,CAACC,WAAW,CACnCC,WAAW,CAAEJ,KAAK,CAACE,IAAI,CAACE,WAC5B,CAAC,CACL,CAAC,CAAC,CANMH,SAAS,cAATA,SAAS,CAAEE,WAAW,cAAXA,WAAW,CAAEC,WAAW,cAAXA,WAAW,CAS3C,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACpB,OAAQJ,SAAS,EACb,IAAK,gBAAgB,CAAG,mBAAO,KAAC,cAAc,IAAE,CAChD,IAAK,aAAa,CAAM,mBAAO,KAAC,WAAW,IAAE,CAC7C,IAAK,gBAAgB,CAAG,mBAAO,KAAC,cAAc,IAAE,CAChD,IAAK,eAAe,CAAI,mBAAO,KAAC,aAAa,IAAE,CAC/C,IAAK,eAAe,CAAI,mBAAO,KAAC,aAAa,IAAE,CAC/C,QAAS,OAAO,CAExB,CAAC,CAEDZ,SAAS,CAAC,UAAM,CACZ,GAAMiB,MAAK,CAAGC,UAAU,CAAC,UAAM,qBAC3B,iBAAAR,MAAM,CAACS,OAAO,0CAAd,gBAAgBF,KAAK,EAAE,CAC3B,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,WAAM,CAAEG,aAAa,CAACH,KAAK,CAAC,CAAC,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,yBACEF,WAAW,eACT,YAAK,SAAS,CAAC,OAAO,uBAClB,aAAK,SAAS,CAAEH,SAAS,GAAK,gBAAgB,CAAG,sBAAsB,CAAG,YAAa,WAClFI,SAAS,EAAE,CACX,CAAAF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEO,OAAO,gBACjB,eAAQ,SAAS,CAAC,QAAQ,CAClB,OAAO,CAAE,kBAAM,CACXP,WAAW,CAACQ,YAAY,EAAIR,WAAW,CAACQ,YAAY,EAAE,CACtDnB,IAAI,CAACoB,SAAS,EAAE,EACnB,CACD,GAAG,CAAEb,MAAO,UAClBI,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEO,OAAO,EAAU,GAElC,EACJ,EAEP,CAEX,CAAC,CAED,cAAeZ,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}