{"ast":null,"code":"import mole from \"./Mole\";\nexport default class Module {\n  constructor() {\n    this.getRowXColumnsCount = () => {\n      const screenData = mole.getState('screenData');\n      return screenData.row * screenData.column;\n    };\n    this.getRandomHoles = () => {\n      const screenData = mole.getState('screenData');\n      const result = [];\n      for (let i = 0; i < screenData.count; i++) {\n        result.push(mole.utils.randomNum(screenData.row * screenData.column));\n      }\n      return result;\n    };\n    this.getHolesEl = () => {\n      const result = [];\n      for (let i = 0; i < this.getRandomHoles().length; i++) {\n        result.push(document.getElementById(`${this.getRandomHoles()[i]}`));\n      }\n      return result;\n    };\n    this.playingMole = callback => {\n      const elList = this.getHolesEl();\n      const showMole = onClick => {\n        elList.forEach(element => {\n          // 애니메이션 추가\n          mole.utils.addClassActive(element);\n          // 클릭 이벤트 추가\n          element === null || element === void 0 ? void 0 : element.addEventListener('click', () => {\n            onClick && onClick();\n            catchMole(element && element);\n          });\n        });\n        setTimeout(overTimeMole, 2000);\n      };\n\n      // 두더지 터치\n      const catchMole = element => {\n        mole.utils.removeClassActive(element);\n        element === null || element === void 0 ? void 0 : element.removeEventListener('click', () => {});\n        clearTimeout(setTimeout(this.playingMole));\n      };\n\n      // 시간 초과\n      const overTimeMole = () => {\n        elList.forEach(element => {\n          catchMole(element);\n        });\n      };\n      showMole();\n      setTimeout(this.playingMole, 2000);\n    };\n    this.stoppingMole = () => {\n      for (let i = 0; i < this.getRowXColumnsCount(); i++) {\n        const element = document.getElementById(i.toString());\n        mole.utils.removeClassActive(element);\n        element === null || element === void 0 ? void 0 : element.removeEventListener('click', () => {});\n      }\n      clearTimeout(this.playingMole());\n    };\n  }\n}","map":{"version":3,"names":["mole","Module","getRowXColumnsCount","screenData","getState","row","column","getRandomHoles","result","i","count","push","utils","randomNum","getHolesEl","length","document","getElementById","playingMole","callback","elList","showMole","onClick","forEach","element","addClassActive","addEventListener","catchMole","setTimeout","overTimeMole","removeClassActive","removeEventListener","clearTimeout","stoppingMole","toString"],"sources":["/Users/soohoon/Desktop/kakao/20230207-jsh/src/core/Module.ts"],"sourcesContent":["import mole from \"./Mole\";\n\nexport default class Module {\n    getRowXColumnsCount = () => {\n        const screenData = mole.getState('screenData');\n        return screenData.row * screenData.column;\n    }\n\n    getRandomHoles = () => {\n        const screenData = mole.getState('screenData');\n        const result = []\n\n        for (let i = 0; i<screenData.count; i++) {\n            result.push(mole.utils.randomNum(screenData.row * screenData.column));\n        }\n\n        return result;\n    }\n\n    getHolesEl = () => {\n        const result = [];\n\n        for (let i=0; i<this.getRandomHoles().length; i++) {\n            result.push(document.getElementById(`${this.getRandomHoles()[i]}`));\n        }\n\n        return result;\n    }\n\n    playingMole = (callback?: Function) => {\n        const elList = this.getHolesEl();\n\n        const showMole = (onClick?: Function) => {\n            elList.forEach(element => {\n                // 애니메이션 추가\n                mole.utils.addClassActive(element);\n                // 클릭 이벤트 추가\n                element?.addEventListener('click', () => {\n                    onClick && onClick()\n                    catchMole(element && element)\n                });\n            });\n\n            setTimeout(overTimeMole, 2000);\n        }\n\n        // 두더지 터치\n        const catchMole = (element: Element) => {\n            mole.utils.removeClassActive(element);\n            element?.removeEventListener('click', () => {});\n            \n            clearTimeout(setTimeout(this.playingMole));\n        }\n\n         // 시간 초과\n        const overTimeMole =() => {\n            elList.forEach((element: any) => {\n                catchMole(element)\n            })\n        }\n\n        showMole();\n        setTimeout(this.playingMole, 2000);\n    }\n\n    stoppingMole = () => {\n        for (let i = 0; i<this.getRowXColumnsCount(); i++) {\n            const element = document.getElementById(i.toString());\n\n            mole.utils.removeClassActive(element);\n            element?.removeEventListener('click', () => {});\n        }\n\n        clearTimeout(this.playingMole())\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}