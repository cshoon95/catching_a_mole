{"ast":null,"code":"var _jsxFileName = \"/Users/soohoon/Desktop/kakao/20230207-jsh/src/page/CountDown.tsx\",\n  _s = $RefreshSig$();\nimport { useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CountDown = () => {\n  _s();\n  const numsRef = useRef([]);\n  const nums = [3, 2, 1];\n  const counter = document.querySelector('.counter');\n  const finalMessage = document.querySelector('.final');\n  const repl = document.getElementById('replay');\n  runAnimation();\n  function resetDOM() {\n    counter === null || counter === void 0 ? void 0 : counter.classList.remove('hide');\n    finalMessage === null || finalMessage === void 0 ? void 0 : finalMessage.classList.remove('show');\n    nums.forEach(num => {\n      num.classList.value = '';\n    });\n    nums[0].classList.add('in');\n  }\n  function runAnimation() {\n    debugger;\n    nums.forEach((num, idx) => {\n      const penultimate = nums.length - 1;\n      num.addEventListener('animationend', e => {\n        if (e.animationName === 'goIn' && idx !== penultimate) {\n          num.classList.remove('in');\n          num.classList.add('out');\n        } else if (e.animationName === 'goOut' && num.nextElementSibling) {\n          num.nextElementSibling.classList.add('in');\n        } else {\n          counter === null || counter === void 0 ? void 0 : counter.classList.add('hide');\n          finalMessage === null || finalMessage === void 0 ? void 0 : finalMessage.classList.add('show');\n        }\n      });\n    });\n  }\n  repl === null || repl === void 0 ? void 0 : repl.addEventListener('click', () => {\n    resetDOM();\n    runAnimation();\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"counter\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nums\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"in\",\n          children: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          ref: el => numsRef.current[0] = el,\n          children: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          ref: el => numsRef.current[1] = el,\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          ref: el => numsRef.current[1] = el,\n          children: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Get Ready\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"final\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"GO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"replay\",\n        children: \"replay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(CountDown, \"IpzLGZUuHJvlW9L2WTciDs2ATr4=\");\n_c = CountDown;\nexport default CountDown;\nvar _c;\n$RefreshReg$(_c, \"CountDown\");","map":{"version":3,"names":["useRef","CountDown","numsRef","nums","counter","document","querySelector","finalMessage","repl","getElementById","runAnimation","resetDOM","classList","remove","forEach","num","value","add","idx","penultimate","length","addEventListener","e","animationName","nextElementSibling","el","current"],"sources":["/Users/soohoon/Desktop/kakao/20230207-jsh/src/page/CountDown.tsx"],"sourcesContent":["import { useRef } from \"react\";\n\nconst CountDown = () => {\n    const numsRef = useRef<any>([]);\n    const nums = [3, 2, 1];\n    const counter = document.querySelector('.counter');\n    const finalMessage = document.querySelector('.final');\n    const repl = document.getElementById('replay');\n\n    runAnimation();\n\n    function resetDOM() {\n        counter?.classList.remove('hide');\n        finalMessage?.classList.remove('show');\n            \n        nums.forEach(num => {\n            num.classList.value = '';\n        });\n\n        nums[0].classList.add('in');\n    }\n\n    function runAnimation() {\n        debugger\n        nums.forEach((num, idx) => {\n            const penultimate = nums.length - 1;\n            num.addEventListener('animationend', (e: any) => {\n                if(e.animationName === 'goIn' && idx !== penultimate){\n                    num.classList.remove('in');\n                    num.classList.add('out');\n                } else if (e.animationName === 'goOut' && num.nextElementSibling){\n                    num.nextElementSibling.classList.add('in');\n                } else {\n                    counter?.classList.add('hide');\n                    finalMessage?.classList.add('show');\n                }\n            });\n        });\n    }\n\n    repl?.addEventListener('click', () => {\n        resetDOM();\n        runAnimation();\n    });\n\n    return (\n        <>\n        <div className=\"counter\">\n            <div className=\"nums\">\n                <span className=\"in\">3</span>\n                <span ref={el => numsRef.current[0] = el}>2</span>\n                <span ref={el => numsRef.current[1] = el}>1</span>\n                <span ref={el => numsRef.current[1] = el}>0</span>\n            </div>\n            <h4>Get Ready</h4>\n            </div>\n            <div className=\"final\">\n            <h1>GO</h1>\n            <button id=\"replay\">replay</button>\n        </div>\n        </>\n    )\n}\n\nexport default CountDown;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}