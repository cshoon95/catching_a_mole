{"ast":null,"code":"import _createClass from\"/Users/soohoon/Desktop/kakao/20230207-jsh/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/Users/soohoon/Desktop/kakao/20230207-jsh/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import mole from\"./Mole\";var score=0;var playId;var stopId;var Module=/*#__PURE__*/_createClass(function Module(){var _this=this;_classCallCheck(this,Module);this.getRowXColumns=function(){var screenData=mole.getState('screenData');return screenData.row*screenData.column;};this.getRandomHoles=function(){var screenData=mole.getState('screenData');var result=[];for(var i=0;i<screenData.count;i++){result.push(mole.utils.randomNum(_this.getRowXColumns()));}return result;};this.getHolesEl=function(){var result=[];for(var i=0;i<_this.getRandomHoles().length;i++){result.push(document.getElementById(\"\".concat(_this.getRandomHoles()[i])));}return result;};this.clickMoleEventHandler=function(e,element){// hit 이미지로 수정\ne.target.src='/images/mole_hit_hole.png';// 다시 이미지 복구\nsetTimeout(function(){e.target.src='/images/mole.png';},500);score=score+1;_this.catchMole(element);};this.playingMole=function(){var elList=_this.getHolesEl();// 두더지 등장\nvar showMole=function showMole(){elList.forEach(function(element){// 애니메이션 추가\nmole.utils.addClassActive(element);// 클릭 이벤트 추가 ({ once : true } 이벤트 한 번 만 실행)\nelement===null||element===void 0?void 0:element.addEventListener('click',function(e){return _this.clickMoleEventHandler(e,element);},{once:true});});stopId=setTimeout(_this.hideMole,3000);};showMole();playId=setTimeout(_this.playingMole,3000);};this.catchMole=function(element){mole.utils.removeClassActive(element);};this.hideMole=function(){for(var i=0;i<_this.getRowXColumns();i++){var element=document.getElementById(i.toString());mole.utils.removeClassActive(element);}clearTimeout(stopId);};this.stopMole=function(){clearTimeout(playId);};this.getScore=function(){return score;};this.setScore=function(){mole.setState('score',0);score=0;};});export{Module as default};","map":{"version":3,"names":["mole","score","playId","stopId","Module","getRowXColumns","screenData","getState","row","column","getRandomHoles","result","i","count","push","utils","randomNum","getHolesEl","length","document","getElementById","clickMoleEventHandler","e","element","target","src","setTimeout","catchMole","playingMole","elList","showMole","forEach","addClassActive","addEventListener","once","hideMole","removeClassActive","toString","clearTimeout","stopMole","getScore","setScore","setState"],"sources":["/Users/soohoon/Desktop/kakao/20230207-jsh/src/core/Module.ts"],"sourcesContent":["import mole from \"./Mole\";\n\nlet score = 0;\nlet playId: any; \nlet stopId: any;\nexport default class Module {\n    /** 행x열의 값 */\n    getRowXColumns = () => {\n        const screenData = mole.getState('screenData');\n        return screenData.row * screenData.column;\n    }\n\n    /** 두더지가 출현할 Elment Index */\n    getRandomHoles = () => {\n        const screenData = mole.getState('screenData');\n        const result = []\n\n        for (let i=0; i<screenData.count; i++) {\n            result.push(mole.utils.randomNum(this.getRowXColumns()));\n        }\n\n        return result;\n    }\n\n    /** 출현한 두더지 Element List */ \n    getHolesEl = () => {\n        const result = [];\n\n        for (let i=0; i<this.getRandomHoles().length; i++) {\n            result.push(document.getElementById(`${this.getRandomHoles()[i]}`));\n        }\n\n        return result;\n    }\n\n    /** 두더지 클릭 이벤트 */\n    clickMoleEventHandler = (e: any, element: any) => {\n        // hit 이미지로 수정\n        e.target.src = '/images/mole_hit_hole.png';\n\n        // 다시 이미지 복구\n        setTimeout(() => {\n            e.target.src = '/images/mole.png';\n        }, 500)\n\n        score = score + 1;\n\n        this.catchMole(element)\n    }\n\n    /** 두더지 show */ \n    playingMole = () => {\n        const elList = this.getHolesEl();\n\n        // 두더지 등장\n        const showMole = () => {\n            elList.forEach(element => {\n                // 애니메이션 추가\n                mole.utils.addClassActive(element);\n\n                // 클릭 이벤트 추가 ({ once : true } 이벤트 한 번 만 실행)\n                element?.addEventListener('click', (e) => this.clickMoleEventHandler(e, element), { once : true });\n            });\n\n            stopId = setTimeout(this.hideMole, 3000);\n        }\n\n        showMole();\n        playId = setTimeout(this.playingMole, 3000);\n    }\n\n     // 두더지 터치\n    catchMole = (element: Element) => {\n        mole.utils.removeClassActive(element);\n    }\n\n    /** 두더지 hide */ \n    hideMole = () => {\n        for (let i = 0; i<this.getRowXColumns(); i++) {\n            const element = document.getElementById(i.toString());\n            mole.utils.removeClassActive(element);\n        }\n        clearTimeout(stopId);\n    }\n\n    /** 게임 정지 */\n    stopMole = () => {\n        clearTimeout(playId);\n    }\n\n    /** 스코어 가져오기 */\n    getScore = () => {\n        return score;\n    }\n\n    /** 스코어 초기화 */\n    setScore = () => {\n        mole.setState('score', 0);\n        score = 0;\n    }\n}   \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}